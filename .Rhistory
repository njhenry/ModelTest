s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:1000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:1000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:1000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:1000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:1000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:10000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
testx <- runif(1, 0, pi)
hists <- foreach(i=1:10000) %do% {
ws <- sample(x, N, replace=TRUE, prob=y)
s <- 2*pi*(1/(N-1)) * sum(cos(ws * testx))/10
s
}
print(exp(-testx^0.5))
hists <- unlist(hists)
print(mean(hists))
hist(hists)
source('~/circularkern.R')
source('~/circularkern.R')
source('~/circularkern.R')
source('~/circularkern.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- select(inc2015, Country)
print(table(country2015))
print(sum(select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Data.1km.Data.tif")
tempCovs <- getTempCovsMonth(locs[,2:1], year, mali15$month, startpathsT, endpathsT, list("LST", "TempSuit"))
#static covs
covpaths <- list("Z:/mastergrids/Other_Global_Covariates/UrbanAreas/Global_Urban_Footprint/From_12m/1km/Global_Urban_Footprint_1km_12m-Prop-Urban-Unclipped.tif")
staticCovs <- getStaticCovs(locs[,2:1], covpaths, covnames=list("Urban"))
df <- data.frame(x=locs[,1], y=locs[,2], LST=tempCovs$LST, month=as.numeric(mali15$month) < 10, TempSuit=tempCovs$TempSuit,
urban=staticCovs$Urban)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=TempSuit)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=month)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=urban)) + geom_point()
print(p)
fullpath <- "Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.2015.09.Mean.1km.Data.tif"
r <- crop(raster(fullpath), extent(c(-12.5, -2.5, 10, 16)))
r2 <- crop(raster(covpaths[[1]]), extent(c(-12.5, -2.5, 10, 16)))
plot(r)
sum(is.na(values(r)))
library(FSIC)
pr <- gpReg(c(locs, month), mali15$rdt.result)
temp <- gpReg(c(locs, month), tempCovs$LST)
ts <- gpReg(c(locs, month), tempCovs$TempSuit)
plot(temp, pr)
plot(ts, pr)
years <- select(inc, year)[[1]]
?read.csv
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- select(inc, year)[[1]]
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
years <- select(inc, year)
years <- select(inc, year)
years <- select(inc, year)[[1]]
years <- select(inc, year)[[1]]
years <- select(inc, year)[[1]]
years <- select(inc, year)[[1]]
?raster
?unload
detach
detach("raster")
detach("raster", TRUE)
detach(raster, TRUE)
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- select(inc, year)[[1]]
library(raster)
years <- select(inc, year)[[1]]
select
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- dplyr::select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- dplyr::select(inc2015, Country)
print(table(country2015))
print(sum(dplyr::select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(dplyr::select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Data.1km.Data.tif")
tempCovs <- getTempCovsMonth(locs[,2:1], year, mali15$month, startpathsT, endpathsT, list("LST", "TempSuit"))
#static covs
covpaths <- list("Z:/mastergrids/Other_Global_Covariates/UrbanAreas/Global_Urban_Footprint/From_12m/1km/Global_Urban_Footprint_1km_12m-Prop-Urban-Unclipped.tif")
staticCovs <- getStaticCovs(locs[,2:1], covpaths, covnames=list("Urban"))
df <- data.frame(x=locs[,1], y=locs[,2], LST=tempCovs$LST, month=as.numeric(mali15$month) < 10, TempSuit=tempCovs$TempSuit,
urban=staticCovs$Urban)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=TempSuit)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=month)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=urban)) + geom_point()
print(p)
fullpath <- "Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.2015.09.Mean.1km.Data.tif"
r <- crop(raster(fullpath), extent(c(-12.5, -2.5, 10, 16)))
r2 <- crop(raster(covpaths[[1]]), extent(c(-12.5, -2.5, 10, 16)))
plot(r)
sum(is.na(values(r)))
library(FSIC)
pr <- gpReg(c(locs, month), mali15$rdt.result)
temp <- gpReg(c(locs, month), tempCovs$LST)
ts <- gpReg(c(locs, month), tempCovs$TempSuit)
plot(temp, pr)
plot(ts, pr)
source('~/ModelTest/inc_DAG.R')
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- dplyr::select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- dplyr::select(inc2015, Country)
print(table(country2015))
print(sum(dplyr::select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(dplyr::select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Data.1km.Data.tif")
tempCovs <- getTempCovsMonth(locs[,2:1], years, mali15$month, startpathsT, endpathsT, list("LST", "TempSuit"))
#static covs
covpaths <- list("Z:/mastergrids/Other_Global_Covariates/UrbanAreas/Global_Urban_Footprint/From_12m/1km/Global_Urban_Footprint_1km_12m-Prop-Urban-Unclipped.tif")
staticCovs <- getStaticCovs(locs[,2:1], covpaths, covnames=list("Urban"))
df <- data.frame(x=locs[,1], y=locs[,2], LST=tempCovs$LST, month=as.numeric(mali15$month) < 10, TempSuit=tempCovs$TempSuit,
urban=staticCovs$Urban)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=TempSuit)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=month)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=urban)) + geom_point()
print(p)
fullpath <- "Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.2015.09.Mean.1km.Data.tif"
r <- crop(raster(fullpath), extent(c(-12.5, -2.5, 10, 16)))
r2 <- crop(raster(covpaths[[1]]), extent(c(-12.5, -2.5, 10, 16)))
plot(r)
sum(is.na(values(r)))
library(FSIC)
pr <- gpReg(c(locs, month), mali15$rdt.result)
temp <- gpReg(c(locs, month), tempCovs$LST)
ts <- gpReg(c(locs, month), tempCovs$TempSuit)
plot(temp, pr)
plot(ts, pr)
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
plot(temp, mali15$month)
plot(mali15$month, temp)
plot(mali15$month, tempCovs$LST)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=temp)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y)) + geom_point(color=temp + tempCovs$TempSuit)
print(p)
df <- data.frame(x=locs[,1], y=locs[,2], smoothtemp = temp + tempCovs$LST)
p <- ggplot(df, aes(x=x,y=y, color=smoothtemp)) + geom_point()
print(p)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
df <- data.frame(x=locs[,1], y=locs[,2], LST=tempCovs$LST, month=as.numeric(mali15$month) < 10, TempSuit=tempCovs$TempSuit,
urban=staticCovs$Urban)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
df <- data.frame(x=locs[,1], y=locs[,2], smoothtemp = temp + tempCovs$LST)
p <- ggplot(df, aes(x=x,y=y, color=smoothtemp)) + geom_point()
print(p)
df <- data.frame(x=locs[,1], y=locs[,2], stmp = temp + tempCovs$LST)
p <- ggplot(df, aes(x=x,y=y, color=stmp)) + geom_point()
print(p)
df <- data.frame(x=locs[,1], y=locs[,2], LST=tempCovs$LST, month=as.numeric(mali15$month) < 10, TempSuit=tempCovs$TempSuit,
urban=staticCovs$Urban)
p <- ggplot(df, aes(x=x,y=y,color=LST)) + geom_point()
print(p)
l <- list()
l$"test" <- 1
names(l)
?save
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- dplyr::select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- dplyr::select(inc2015, Country)
print(table(country2015))
print(sum(dplyr::select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(dplyr::select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Data.1km.Data.tif")
tempCovs <- getTempCovsMonth(locs[,2:1], mali15$year, mali15$month, startpathsT, endpathsT, list("LST", "TempSuit"))
#static covs
covpaths <- list("Z:/mastergrids/Other_Global_Covariates/UrbanAreas/Global_Urban_Footprint/From_12m/1km/Global_Urban_Footprint_1km_12m-Prop-Urban-Unclipped.tif")
staticCovs <- getStaticCovs(locs[,2:1], covpaths, covnames=list("Urban"))
save(c(staticCovs, tempCovs), file = "MaliCovs.RData")
save(c("staticCovs", "tempCovs"), file = "MaliCovs.RData")
save(list("staticCovs", "tempCovs"), file = "MaliCovs.RData")
save(list = c("staticCovs", "tempCovs"), file = "MaliCovs.RData")
load("MaliCovs.RData")
source('~/ModelTest/inc_DAG.R')
save(list = c("staticCovs", "tempCovs", "startpathsT", "endpathsT", "covpaths"), file = "MaliCovs.RData")
load("MaliCovs.RData")
setwd("C:/Users/scro3122/Documents")
library(dplyr)
library(ggplot2)
inc <- read.csv("indi.data.for.treatmentseeking.final.csv")
years <- dplyr::select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- dplyr::select(inc2015, Country)
print(table(country2015))
print(sum(dplyr::select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(dplyr::select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Data.1km.Data.tif")
tempCovs <- getTempCovsMonth(locs[,2:1], mali15$year, mali15$month, startpathsT, endpathsT, list("LST", "TempSuit"))
#static covs
covpaths <- list("Z:/mastergrids/Other_Global_Covariates/UrbanAreas/Global_Urban_Footprint/From_12m/1km/Global_Urban_Footprint_1km_12m-Prop-Urban-Unclipped.tif")
staticCovs <- getStaticCovs(locs[,2:1], covpaths, covnames=list("Urban"))
save(list = c("staticCovs", "tempCovs", "startpathsT", "endpathsT", "covpaths"), file = "MaliCovs.RData")
load("MaliCovs.RData")
source('~/ModelTest/inc_DAG.R')
getwd()
save(list = c("staticCovs", "tempCovs", "startpathsT", "endpathsT", "covpaths"), file = "MaliCovs.RData")
source("getCovs.R")
source('~/ModelTest/inc_DAG.R')
getwd()
save(list = c("staticCovs", "tempCovs", "startpathsT", "endpathsT", "covpaths"), file = "MaliCovs.RData")
source('~/ModelTest/inc_DAG.R')
library(FSIC)
pr <- gpReg(c(locs, mali15$month), mali15$rdt.result)
temp <- gpReg(c(locs, mali15$month), tempCovs$LST)
ts <- gpReg(c(locs, mali15$month), tempCovs$TempSuit)
plot(temp, pr)
plot(ts, pr)
obs <- c(staticCovs, tempCovs)
obs
obs <- c(staticCovs, tempCovs)
setwd("C:/Users/scro3122/Documents/ModelTest")
library(dplyr)
library(ggplot2)
inc <- read.csv("../indi.data.for.treatmentseeking.final.csv")
years <- dplyr::select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- dplyr::select(inc2015, Country)
print(table(country2015))
print(sum(dplyr::select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(dplyr::select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf.",
"Z:/mastergrids/Other_Global_Covariates/Rainfall/CHIRPS/1k/Monthly/chirps-v2-0.",
"Z:/mastergrids/Other_Global_Covariates/Rainfall/CHIRPS/1k/Monthly/chirps-v2-0.",
"Z:/mastergrids/Other_Global_Covariates/Rainfall/CHIRPS/1k/Monthly/chirps-v2-0."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Mean.1km.Data.tif",
".Mean.1km.Data.tif",
".Data.1km.Data.tif",
".1km.tif",
".1km.tif",
".1km.tif")
tempcovnames <- list("LST", "LST-1", "LST-2", "TempSuit", "rainfall", "rainfall-1", "rainfall-2")
timelags <- c(0,-1,-2,0,0,-1,-2)
tempCovs <- getTempCovsMonth(locs[,2:1], mali15$year, mali15$month, startpathsT, endpathsT, tempcovnames, timelags)
setwd("C:/Users/scro3122/Documents/ModelTest")
library(dplyr)
library(ggplot2)
inc <- read.csv("../indi.data.for.treatmentseeking.final.csv")
years <- dplyr::select(inc, year)[[1]]
hist(years)
print(table(years))
inc2015 <- filter(inc, year == 2015)
country2015 <- dplyr::select(inc2015, Country)
print(table(country2015))
print(sum(dplyr::select(filter(inc2015, Country == "Nigeria"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Mali"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Rwanda"), rdt.result)[[1]]))
print(sum(dplyr::select(filter(inc2015, Country == "Kenya"), rdt.result)[[1]]))
print(table(dplyr::select(filter(inc2015, Country == "Mali"), urb.rural)))
##do Mali in 2015
mali15 <- filter(inc2015, Country == "Mali")
locs <- cbind(mali15$LONG, mali15$LAT)
plot(locs)
source("getCovs.R")
#temporal covs
startpathsT <- list("Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/MODIS_Global/MOD11A2_LST/LST_Day/1km/Monthly/LST_Day.",
"Z:/mastergrids/Other_Global_Covariates/TemperatureSuitability/TSI_Pf_Dynamic/1km/Monthly/TSI-Martens2-Pf.",
"Z:/mastergrids/Other_Global_Covariates/Rainfall/CHIRPS/1k/Monthly/chirps-v2-0.",
"Z:/mastergrids/Other_Global_Covariates/Rainfall/CHIRPS/1k/Monthly/chirps-v2-0.",
"Z:/mastergrids/Other_Global_Covariates/Rainfall/CHIRPS/1k/Monthly/chirps-v2-0."
)
endpathsT <- list(".Mean.1km.Data.tif",
".Mean.1km.Data.tif",
".Mean.1km.Data.tif",
".Data.1km.Data.tif",
".1km.tif",
".1km.tif",
".1km.tif")
tempcovnames <- list("LST", "LST-1", "LST-2", "TempSuit", "rainfall", "rainfall-1", "rainfall-2")
timelags <- c(0,-1,-2,0,0,-1,-2)
tempCovs <- getTempCovsMonth(locs[,2:1], mali15$year, mali15$month, startpathsT, endpathsT, tempcovnames, timelags)
#static covs
covpaths <- list("Z:/mastergrids/Other_Global_Covariates/UrbanAreas/Global_Urban_Footprint/From_12m/1km/Global_Urban_Footprint_1km_12m-Prop-Urban-Unclipped.tif",
"Z:/mastergrids/Other_Global_Covariates/Population/Worldpop_GPWv4_Hybrid_201708/1km/Global_Hybrid_Pop_v2_1km_UNAdj_2017-Interp.tif",
"Z:/mastergrids/Other_Global_Covariates/NightTimeLights/DMSP_F18_nighttime_lights_2010_1km_global.tif",
"Z:/mastergrids/Other_Global_Covariates/Elevation/Ferranti-Elevation/1km/Synoptic/ferranti_30sec_elev_max_clip.tif",
"Z:/mastergrids/Other_Global_Covariates/Accessibility/Weiss/friction_surface_2015_v1.tif")
staticCovs <- getStaticCovs(locs[,2:1], covpaths, covnames=list("Urban", "FrankenPop", "NightLights", "Elevation", "Friction"))
save(list = c("staticCovs", "tempCovs", "startpathsT", "endpathsT", "covpaths"), file = "MaliCovs.RData")
#load("MaliCovs.RData")
obs <- c(staticCovs, tempCovs)
obs$"pr" <- inc2015$rdt.result
source("runpc.RData")
pc <- runpc(obs, locs, mali15$month, 0.1, nSample=100)
obs$getwd()
getwd()
source('~/ModelTest/inc_DAG.R')
obs <- c(staticCovs, tempCovs)
obs$"pr" <- inc2015$rdt.result
source("runpc.R")
pc <- runpc(obs, locs, mali15$month, 0.1, nSample=100)
getwd()
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
ptm <- proc.time()
pc <- runpc(obs, locs, mali15$month, 0.9, nSample=500)
print(proc.time() - ptm)
ptm <- proc.time()
pc <- runpc(obs, locs, mali15$month, 0.95, nSample=500)
print(proc.time() - ptm)
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
source('~/ModelTest/inc_DAG.R')
sum(is.na(obs$pr))
sum(is.null(obs$pr))
plot(obs$pr)
